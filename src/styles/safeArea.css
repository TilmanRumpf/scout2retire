/* Safe Area CSS for iPhone Support */

/* Utility classes for safe area padding */
.safe-top {
  padding-top: env(safe-area-inset-top);
}

.safe-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

.safe-left {
  padding-left: env(safe-area-inset-left);
}

.safe-right {
  padding-right: env(safe-area-inset-right);
}

/* Safe area with fallback values */
.safe-padding-top {
  padding-top: 20px; /* Fallback */
  padding-top: constant(safe-area-inset-top); /* iOS 11.0-11.2 */
  padding-top: env(safe-area-inset-top); /* iOS 11.2+ */
}

/* Sticky header with safe area support */
.sticky-header-safe {
  position: sticky;
  top: 0;
  /* Extend background above to cover status bar */
  padding-top: env(safe-area-inset-top);
}

/* For elements that need to account for safe area but not add extra padding */
.safe-area-aware {
  /* Use CSS max() for dynamic padding */
  padding-top: max(0px, env(safe-area-inset-top));
  padding-bottom: max(0px, env(safe-area-inset-bottom));
  padding-left: max(0px, env(safe-area-inset-left));
  padding-right: max(0px, env(safe-area-inset-right));
}

/* Support for older iOS versions */
@supports (padding: constant(safe-area-inset-top)) {
  .safe-top {
    padding-top: constant(safe-area-inset-top);
  }
  .safe-bottom {
    padding-bottom: constant(safe-area-inset-bottom);
  }
}

/* PWA/Standalone mode specific handling */
@media (display-mode: standalone) {
  /* In standalone mode, we need extra padding because of black-translucent status bar */
  .pwa-safe-header {
    padding-top: calc(20px + env(safe-area-inset-top));
    margin-top: calc(-20px - env(safe-area-inset-top));
  }
}

/* Handle notch and safe areas on modern iPhones */
@supports (padding: env(safe-area-inset-top)) {
  /* Ensure header extends behind status bar */
  .header-safe-extension {
    position: relative;
    padding-top: env(safe-area-inset-top);
    margin-top: calc(-1 * env(safe-area-inset-top));
    background: inherit;
  }
  
  /* Add extra padding in standalone mode */
  @media (display-mode: standalone) {
    .header-safe-extension {
      padding-top: calc(20px + env(safe-area-inset-top));
      margin-top: calc(-20px - env(safe-area-inset-top));
    }
  }
}