# FIELD CATEGORIZATION FOR SEARCH TEMPLATES
**Generated:** 2025-10-30
**Total Fields:** 195
**Searchable Fields (>90% populated):** 112
**Target: 180+ smart search templates**

---

## 🎯 QUICK REFERENCE: BEST FIELDS FOR SEARCH

### ✅ TIER 1: PERFECT (100% populated, clean categorical values)

#### CLIMATE (10 fields)
| Field | Values | Template Examples |
|-------|--------|-------------------|
| `summer_climate_actual` | warm (41%), hot (39%), mild (20%) | "Warm summers", "Hot climate lovers" |
| `winter_climate_actual` | cool (47%), mild (42%), cold (11%) | "Mild winters", "Avoid cold winters" |
| `sunshine_level_actual` | often_sunny (57%), balanced (39%) | "Sunny destinations", "Sun worshippers" |
| `precipitation_level_actual` | less_dry (54%), balanced (39%) | "Low rainfall", "Dry climate preferred" |
| `seasonal_variation_actual` | moderate (41%), minimal (36%) | "Minimal seasons", "Distinct seasons" |
| `humidity_level_actual` | balanced (44%), humid (44%), dry (13%) | "Low humidity", "Dry air preferred" |
| `avg_temp_summer` | 20-36°C (100%) | "Summer 25-30°C", "Cool summers" |
| `avg_temp_winter` | -3-24°C (100%) | "Winter above 15°C", "Warm year-round" |
| `annual_rainfall` | 550-1280mm (100%) | "Under 700mm rain", "Minimal rainfall" |
| `sunshine_hours` | 2040-2840hrs (100%) | "2500+ sunshine hours" |

#### COST OF LIVING (8 fields)
| Field | Range | Template Examples |
|-------|-------|-------------------|
| `cost_of_living_usd` | $914-2576 (100%) | "Under $1500/month", "Budget under $2000" |
| `cost_index` | 40-85 (100%) | "Cost index under 60", "Affordable living" |
| `rent_1bed` | $320-1680 (100%) | "Rent under $800", "Cheap 1-bed apartments" |
| `groceries_cost` | $70-370 (100%) | "Groceries under $250" |
| `utilities_cost` | $40-150 (100%) | "Low utility costs", "Under $100 utilities" |
| `meal_cost` | $20-30 (100%) | "Cheap dining out", "Meals under $15" |
| `healthcare_cost_monthly` | $65-431 (100%) | "Healthcare under $200" |
| `income_tax_rate_pct` | 0-54% (100%) | "Tax under 25%", "Low income tax" |

#### LIFESTYLE (8 fields)
| Field | Values | Template Examples |
|-------|--------|-------------------|
| `pace_of_life_actual` | moderate (49%), relaxed (47%) | "Relaxed lifestyle", "Slow pace of life" |
| `expat_community_size` | small (61%), moderate (24%) | "Large expat community", "Expat-friendly" |
| `retirement_community_presence` | minimal (29%), none (28%) | "Strong retirement community" |
| `urban_rural_character` | suburban (44%), rural (33%) | "Rural living", "Suburban lifestyle" |
| `english_proficiency_level` | moderate (32%), high (25%) | "High English proficiency", "English widely spoken" |
| `social_atmosphere` | friendly (58%), moderate (26%) | "Friendly community" (only 23% populated) |
| `traditional_progressive_lean` | traditional (46%), balanced (33%) | "Progressive culture" (only 23% populated) |
| `cultural_events_frequency` | monthly (50%), weekly (48%) | "Weekly cultural events" (only 16% populated) |

#### QUALITY RATINGS (1-10 scale) (12 fields - 100% populated)
| Field | Range | Template Examples |
|-------|-------|-------------------|
| `quality_of_life` | 7-9 | "Top quality of life (8+)" |
| `healthcare_score` | 7-9 | "Excellent healthcare (8+)" |
| `safety_score` | 6-9 | "Very safe (8+)", "Low crime" |
| `walkability` | 2-9 | "Highly walkable (7+)", "Car-free living" |
| `public_transport_quality` | 1-6 | "Good public transit (4+)" |
| `cultural_rating` | 3-9 | "Rich culture (7+)", "Arts & culture" |
| `outdoor_rating` | 8-9 | "Outdoor paradise (8+)" |
| `restaurants_rating` | 3-8 | "Great food scene (6+)" |
| `nightlife_rating` | 2-8 | "Vibrant nightlife (6+)" |
| `shopping_rating` | 3-8 | "Good shopping (6+)" |
| `wellness_rating` | 3-6 | "Wellness-focused (5+)" |
| `outdoor_activities_rating` | 5-7 | "Outdoor enthusiasts (6+)" |

#### INFRASTRUCTURE (6 fields)
| Field | Range | Template Examples |
|-------|-------|-------------------|
| `population` | 22k-1.15M (100%) | "Small town (<50k)", "City living (>500k)" |
| `internet_speed` | 50-100 Mbps (100%) | "Fast internet (75+ Mbps)", "Digital nomad ready" |
| `hospital_count` | 0-5 (100%) | "Multiple hospitals", "Medical facilities nearby" |
| `distance_to_urban_center` | 0-238km (100%) | "Within 50km of city", "Close to urban center" |
| `english_proficiency` | 25-95 (100%) | "English proficiency 70+", "English-friendly" |
| `air_quality_index` | 20-140 (100%) | "Clean air (AQI<50)", "Excellent air quality" |

#### GEOGRAPHIC ACCESS (3 fields)
| Field | Values | Template Examples |
|-------|--------|-------------------|
| `beaches_nearby` | true/false (100%) | "Beach access", "Coastal living" |
| `english_speaking_doctors` | true/false (100%) | "English-speaking doctors" |
| `hiking_trails_km` | 10-100km (100%) | "50+ km hiking trails", "Hiking paradise" |

---

### ✅ TIER 2: VERY GOOD (90-99% populated)

#### ADDITIONAL RATINGS (7 fields)
| Field | Range | Population | Template Examples |
|-------|-------|------------|-------------------|
| `museums_rating` | 1-7 | 99.7% | "Museums & history (5+)" |
| `cultural_events_rating` | 3-7 | 100% | "Cultural events (5+)" |
| `natural_disaster_risk` | 2-5 | 96.9% | "Low disaster risk (<3)" |
| `political_stability_rating` | 9-85 | 99.7% | "Politically stable" |
| `government_efficiency_rating` | 8-70 | 99.7% | "Efficient government" |

#### TAX & FINANCE (3 fields)
| Field | Range | Population | Template Examples |
|-------|-------|------------|-------------------|
| `property_tax_rate_pct` | 0.5-1.5% | 99.7% | "Low property tax (<1%)" |
| `sales_tax_rate_pct` | 6-23% | 99.7% | "Low sales tax (<10%)" |
| `visa_free_days` | 0-999 | 99.7% | "90+ visa-free days", "Easy visa access" |

#### ACTIVITIES (3 fields)
| Field | Range | Population | Template Examples |
|-------|-------|------------|-------------------|
| `golf_courses_count` | 0-2 | 100% | "Golf available", "Golfer's paradise" |
| `tennis_courts_count` | 0-4 | 100% | "Tennis facilities" |
| `marinas_count` | 0-3 | 100% | "Marina access", "Boating lifestyle" |

---

### ⚠️ TIER 3: USABLE BUT SPARSE (22-38% populated)
**Use with caution - only 22-38% of towns have data**

| Field | Range | Population | Template Examples |
|-------|-------|------------|-------------------|
| `family_friendliness_rating` | 4-9 | 37.8% | "Family-friendly (7+)" |
| `senior_friendly_rating` | 3-4 | 37.8% | "Senior-friendly" |
| `typical_home_price` | $85k-500k | 38.1% | "Homes under $300k" |
| `rent_2bed_usd` | $325-1560 | 31.3% | "2-bed under $1000" |
| `rent_house_usd` | $450-2160 | 31.3% | "House rent under $1500" |
| `pet_friendly_rating` | 7-8 | 29.3% | "Pet-friendly (7+)" |
| `lgbtq_friendly_rating` | 6-8 | 23.0% | "LGBTQ-friendly (7+)" |
| `emergency_services_quality` | 3-8 | 22.2% | "Excellent emergency services" |
| `environmental_health_rating` | 2-9 | 22.2% | "Clean environment (7+)" |
| `insurance_availability_rating` | 3-9 | 22.2% | "Good insurance options" |
| `medical_specialties_rating` | 3-6 | 22.2% | "Medical specialists available" |
| `travel_connectivity_rating` | 3-7 | 22.2% | "Well-connected travel (6+)" |

---

### ❌ TIER 4: NOT USEFUL FOR SEARCH

#### All Single-Value Fields (DELETE or FIX)
- `coastline_access` - 100% false
- `lake_river_access` - 100% false
- `mountain_access` - 100% false
- `train_station` - 100% false
- `has_public_transit` - 100% false
- `has_uber` - 100% false
- `requires_car` - 100% false
- `farmers_markets` - 100% true
- `foreign_income_taxed` - 100% true
- `health_insurance_required` - 100% true
- `tax_haven_status` - 100% false
- `tax_treaty_us` - 100% false
- `childcare_available` - 100% false
- `international_schools_available` - 100% false

#### All Zero-Count Fields (DELETE or POPULATE)
- `ski_resorts_within_100km` - all 0
- `international_schools_count` - all 0
- `coworking_spaces_count` - all 0
- `dog_parks_count` - all 0
- `veterinary_clinics_count` - all 0
- `recreation_centers` - all 0
- `parks_per_capita` - all 0

#### Broken/Empty Fields
- `pet_friendliness` - all NaN (BROKEN)
- `visa_on_arrival_countries` - 0.3% populated
- `min_income_requirement_usd` - 5.7% populated (all 0)
- `startup_ecosystem_rating` - 5.7% populated

---

## 📊 JSON FIELDS (Advanced Search)

### ACTIVITIES (100% populated)
| Field | Use Case |
|-------|----------|
| `activities_available` | "Contains: golf", "Contains: sailing" |
| `interests_supported` | "Supports: photography", "Supports: hiking" |
| `top_hobbies` | "Popular hobby: fishing" |

### GEOGRAPHIC FEATURES (100% populated)
| Field | Use Case |
|-------|----------|
| `geographic_features_actual` | "Contains: coastal", "Contains: mountains" |
| `vegetation_type_actual` | "Contains: palm trees", "Contains: pine forests" |
| `water_bodies` | "Contains: lake", "Contains: river" |

### LANGUAGES (100% populated)
| Field | Use Case |
|-------|----------|
| `languages_spoken` | "Contains: Spanish", "Contains: French" |

### TRANSPORTATION (100% populated)
| Field | Use Case |
|-------|----------|
| `local_mobility_options` | "Contains: bike", "Contains: bus" |
| `regional_connectivity` | "Contains: highway", "Contains: airport" |
| `international_access` | "Direct international flights" |

### HEALTHCARE (100% populated)
| Field | Use Case |
|-------|----------|
| `healthcare_specialties_available` | "Contains: cardiology", "Contains: oncology" |

---

## 🎯 SEARCH TEMPLATE CAPACITY BY CATEGORY

### Category 1: CLIMATE (60+ templates possible)
- **Combinations:** Summer × Winter × Sunshine × Rain × Humidity = 3×4×3×3×3 = 324 combinations
- **Practical templates:** 60-80 (most popular combinations)
- **Example templates:**
  - "Warm summers, mild winters, sunny"
  - "Hot climate, minimal rainfall, low humidity"
  - "Cool summers, mild winters, balanced sun"
  - "Mild year-round, often sunny, low humidity"

### Category 2: COST (40+ templates possible)
- **Budget ranges:** 5 levels (<$1000, $1000-1500, $1500-2000, $2000-2500, >$2500)
- **Combined with:** Rent, Tax, Healthcare
- **Example templates:**
  - "Total cost under $1500/month"
  - "Budget living, low taxes, cheap rent"
  - "Affordable healthcare, low cost of living"
  - "Rent under $800, utilities under $100"

### Category 3: LIFESTYLE (30+ templates possible)
- **Pace of life:** Relaxed, Moderate, Fast (3)
- **Community:** Expat size × Retirement presence (3×7 = 21)
- **Setting:** Urban, Suburban, Rural (3)
- **Example templates:**
  - "Relaxed pace, large expat community"
  - "Suburban, moderate pace, strong retirement community"
  - "Rural living, minimal retirement presence"

### Category 4: QUALITY RATINGS (25+ templates possible)
- **High scorers:** Quality of life 8+, Healthcare 8+, Safety 8+ (combinations)
- **Activity-focused:** Walkable 7+, Outdoor 8+, Cultural 7+
- **Example templates:**
  - "Top quality: QoL 8+, Healthcare 8+, Safety 8+"
  - "Walkable city, great food, vibrant culture"
  - "Outdoor paradise, wellness-focused"

### Category 5: ACTIVITIES (20+ templates possible)
- **Sports:** Golf, Tennis, Hiking, Water sports
- **Hobbies:** From top_hobbies JSON field
- **Example templates:**
  - "Golf & tennis available"
  - "Hiking paradise (50+ km trails)"
  - "Water sports & beach access"
  - "Photography & nature lovers"

### Category 6: INFRASTRUCTURE (15+ templates possible)
- **Size:** Small town, Medium, City
- **Connectivity:** Fast internet, Multiple hospitals
- **Access:** Near urban center, Airport distance
- **Example templates:**
  - "Small town, fast internet, near city"
  - "Digital nomad ready: internet 75+, good healthcare"
  - "City living, walkable, multiple hospitals"

---

## 📋 RECOMMENDED SEARCH TEMPLATE BREAKDOWN

### TIER 1 TEMPLATES (100% populated fields only)
1. **Climate-focused:** 60 templates
2. **Cost-focused:** 40 templates
3. **Lifestyle-focused:** 30 templates
4. **Quality ratings:** 25 templates
5. **Activities:** 20 templates
6. **Infrastructure:** 15 templates
**TOTAL TIER 1:** 190 templates

### TIER 2 TEMPLATES (90%+ populated fields)
1. **Tax-optimized:** 10 templates
2. **Sports-specific:** 10 templates
3. **Disaster/Safety:** 5 templates
**TOTAL TIER 2:** 25 templates

### TIER 3 TEMPLATES (Sparse but valuable)
1. **Family/Pet-friendly:** 5 templates
2. **LGBTQ-friendly:** 3 templates
3. **Real estate:** 5 templates
**TOTAL TIER 3:** 13 templates

---

## 🎯 TOTAL TEMPLATE CAPACITY: 228 templates

**Recommendation:** Start with 180 templates from Tier 1 + Tier 2, add Tier 3 later as data improves.

---

## 🔧 NEXT STEPS

### 1. Data Cleanup (URGENT)
- [ ] Delete 14 single-value boolean fields
- [ ] Delete 7 zero-count fields
- [ ] Fix `pet_friendliness` (all NaN)
- [ ] Convert text to numeric: `crime_rate`, `distance_to_ocean_km`, `elevation_meters`

### 2. Data Enrichment (HIGH PRIORITY)
- [ ] Populate sparse ratings (22-38% populated) using AI
- [ ] Add missing `social_atmosphere` data (currently 23%)
- [ ] Add missing `cultural_events_frequency` data (currently 16%)
- [ ] Add missing `traditional_progressive_lean` data (currently 23%)

### 3. Schema Improvements (MEDIUM PRIORITY)
- [ ] Consolidate duplicate fields:
  - `name` vs `town_name`
  - `cost_of_living_usd` vs `typical_monthly_living_cost`
  - `healthcare_cost` vs `healthcare_cost_monthly`
  - `geographic_features` vs `geographic_features_actual`

### 4. Search Template Creation (READY TO START)
- [ ] Create 60 climate templates
- [ ] Create 40 cost templates
- [ ] Create 30 lifestyle templates
- [ ] Create 25 quality rating templates
- [ ] Create 20 activity templates
- [ ] Create 15 infrastructure templates

---

**Generated by:** database-utilities/analyze-all-columns.js + get-categorical-values.js
**Data files:**
- column-analysis-output.json
- categorical-values-actual.json
